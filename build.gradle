/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.6/samples
 */
//tasks.register(wrapper, Wrapper) {
//  gradleVersion = "8.6"
//}

subprojects {
    apply plugin: 'java-library'

    sourceCompatibility = JavaVersion.VERSION_11
    targetCompatibility = JavaVersion.VERSION_11

    repositories {
        mavenCentral()
        mavenLocal()
        jcenter()
        maven {
//      url 'https://maven-us.nuxeo.org/nexus/content/repositories/public'
            url "https://plugins.gradle.org/m2/"
        }
//    maven { // hrilab archive
//      name = "HRILabArchiva"
//      url = uri("http://hrilab.tufts.edu:11361/repository/internal/")
//      allowInsecureProtocol = true
//    }
    }
    dependencies {
    //implementation 'org.apache.commons:org.apache.commons.httpclient:3.1.0'
        // https://mvnrepository.com/artifact/commons-httpclient/commons-httpclient
        implementation 'commons-httpclient:commons-httpclient:3.1'
    }
    tasks.register("publishBaseProjects") {
        dependsOn ':rosjava:publishToMavenLocal'
        dependsOn ":actionlib_java:publishToMavenLocal"
        dependsOn ":apache_xmlrpc_client:publishToMavenLocal"
        dependsOn ":apache_xmlrpc_common:publishToMavenLocal"
        dependsOn ":apache_xmlrpc_server:publishToMavenLocal"
        dependsOn ":rosjava_bootstrap:publishToMavenLocal"
        dependsOn ":rosjava_messages:publishToMavenLocal"
    }
    tasks.register("buildAndPublishDiarcRos") {
        dependsOn 'publishBaseProjects', ':diarcros_core:build', ':diarcros_core:collectDeps', ':diarcros_core:publishToMavenLocal'
    }

}
